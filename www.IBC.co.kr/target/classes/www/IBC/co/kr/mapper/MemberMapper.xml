<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace = "www.IBC.co.kr.mapper.MemberMapper">
  	<resultMap type = "www.IBC.co.kr.domain.MemberVO" id= "memberMap">
  		<id property="userid" column="userid" />
  		<result property = "userid" column = "userid" />
  		<result property = "userpw" column = "userpw" />
  		<result property = "userName" column = "username" />
  		<result property = "nickName" column = "nickname" />
  		<result property = "email" column = "email" />
  		
  		<result property = "phone" column = "phone" />
  		<result property = "regDate" column = "reg_date" />
  		
  		<collection property="authList" resultMap ="authMap"></collection>
  		
  	</resultMap>
  	<resultMap type = "www.IBC.co.kr.domain.AuthVO" id= "authMap">
  		<result property="userid" column="userid" />
  		<result property="auth" column = "auth" />
  	</resultMap>
  	<select id="read" resultMap= "memberMap">
  		SELECT 
  			mem.userid, userpw, username, nickname, email, phone, enabled, reg_date,auth
  		FROM
  			tbl_member mem LEFT OUTER JOIN tbl_member_auth on mem.userid= auth.userid
 	 	WHERE mem.userid = #{userid}
  	</select>
  </mapper>